<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W.E. Smith - Land Surveying & Civil Engineering</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="logo.svg" alt="W.E. Smith - Land Surveying & Civil Engineering" class="logo">
        </header>

        <main>
            <section class="highlight">
                <p class="tagline">Fast turnaround, reasonable&nbsp;fees.</p>
            </section>

            <section class="service-area">
                <p class="service-area-text">Serving counties in southeast Texas including<br><strong>Waller</strong>, <strong>Austin</strong>, <strong>Washington</strong>, <strong>Fayette</strong>, <strong>Grimes</strong>, <strong>Harris</strong>, &amp; <strong>Montgomery</strong>.</p>
                <div id="county-map" class="map-container"></div>
            </section>

            <section class="about">
                <p>Walter E. Smith, PE, RPLS, has been serving clients in Texas for decades providing land surveying services and civil engineering. We have the latest technology which allows us to respond quickly.</p>
            </section>

            <section class="contact">
                <h2>Contact Us</h2>
                <div class="contact-info">
                    <p><strong>Phone:</strong> <a href="tel:7135504931">(713) 550-4931</a></p>
                    <p><strong>Email:</strong> <a href="mailto:walter@wesmithes.com">walter@wesmithes.com</a></p>
                </div>
                <form class="contact-form" action="https://formcarry.com/s/7-MeZvPMWXO" enctype="multipart/form-data">
                    <input type="text" name="name" placeholder="Your Name" required>
                    <input type="email" name="email" placeholder="Your Email" required>
                    <textarea name="message" placeholder="How can we help you?" rows="4" required></textarea>
                    <button type="submit">Send Message</button>
                    <p class="form-status"></p>
                </form>
            </section>
        </main>

        <footer>
            <p class="registration">Texas firm registration: Surveying #10194874 | Engineering: F-25041</p>
        </footer>
    </div>
<script>
function initMap() {
    var map = new google.maps.Map(document.getElementById('county-map'), {
        center: { lat: 30.15, lng: -96.05 },
        zoom: 8,
        disableDefaultUI: true,
        zoomControl: false,
        styles: [
            { elementType: 'geometry', stylers: [{ color: '#e8e6e1' }] },
            { elementType: 'labels.text.fill', stylers: [{ color: '#435176' }] },
            { elementType: 'labels.text.stroke', stylers: [{ color: '#ffffff' }] },
            { featureType: 'administrative', elementType: 'geometry.stroke', stylers: [{ color: '#9B865D' }] },
            { featureType: 'administrative.land_parcel', elementType: 'labels', stylers: [{ visibility: 'off' }] },
            { featureType: 'landscape', elementType: 'geometry.fill', stylers: [{ color: '#f0ece5' }] },
            { featureType: 'poi', stylers: [{ visibility: 'off' }] },
            { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#d6d1c7' }] },
            { featureType: 'road', elementType: 'labels', stylers: [{ visibility: 'off' }] },
            { featureType: 'road.highway', elementType: 'geometry', stylers: [{ color: '#c4b99a' }] },
            { featureType: 'transit', stylers: [{ visibility: 'off' }] },
            { featureType: 'water', elementType: 'geometry.fill', stylers: [{ color: '#c8d0dc' }] },
            { featureType: 'water', elementType: 'labels', stylers: [{ visibility: 'off' }] }
        ]
    });

    var counties = [
        { name: 'Waller County', lat: 30.01, lng: -95.99 },
        { name: 'Austin County', lat: 29.89, lng: -96.28 },
        { name: 'Washington County', lat: 30.22, lng: -96.40 },
        { name: 'Fayette County', lat: 29.87, lng: -96.92 },
        { name: 'Grimes County', lat: 30.54, lng: -95.99 },
        { name: 'Harris County', lat: 29.86, lng: -95.39 },
        { name: 'Montgomery County', lat: 30.30, lng: -95.50 }
    ];

    var pin = {
        path: 'M2.9 2.9A10 10 0 0 1 17.1 2.9A10 10 0 0 1 17.1 17.1L10 24.1L2.9 17.1A10 10 0 0 1 2.9 2.9Z',
        fillColor: '#9B865D',
        fillOpacity: 1,
        strokeColor: '#ffffff',
        strokeWeight: 2,
        scale: 1.3,
        anchor: new google.maps.Point(10, 24.1),
        labelOrigin: new google.maps.Point(10, 31)
    };

    var dot = {
        path: 'M7 10a3 3 0 1 1 6 0a3 3 0 1 1-6 0',
        fillColor: '#ffffff',
        fillOpacity: 1,
        strokeWeight: 0,
        scale: 1.3,
        anchor: new google.maps.Point(10, 24.1)
    };

    counties.forEach(function(county) {
        var pos = { lat: county.lat, lng: county.lng };
        new google.maps.Marker({
            position: pos,
            map: map,
            icon: pin,
            title: county.name,
            label: {
                text: county.name.replace(' County', ''),
                color: '#435176',
                fontFamily: 'Georgia, serif',
                fontSize: '12px',
                fontWeight: '600',
                className: 'map-marker-label'
            }
        });
        new google.maps.Marker({
            position: pos,
            map: map,
            icon: dot,
            clickable: false
        });
    });
}
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBPSndhoQ-KgfGISakO5mkcI6Mfn8sUYDU&callback=initMap"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
$(function(){
    $(".contact-form").submit(function(e){
        e.preventDefault();
        var form = $(this);
        var status = form.find(".form-status");
        var button = form.find("button");
        button.prop("disabled", true).text("Sending...");

        $.ajax({
            type: "POST",
            url: form.attr("action"),
            data: new FormData(this),
            dataType: "json",
            processData: false,
            contentType: false,
            success: function(response){
                if(response.status == "success"){
                    status.text("Thank you! We'll be in touch soon.").css("color", "#9B865D");
                    form[0].reset();
                } else if(response.code === 422){
                    status.text("Please check your entries and try again.").css("color", "#c0392b");
                } else {
                    status.text("Something went wrong. Please try again.").css("color", "#c0392b");
                }
            },
            error: function(){
                status.text("Something went wrong. Please try again.").css("color", "#c0392b");
            },
            complete: function(){
                button.prop("disabled", false).text("Send Message");
            }
        });
    });
});
</script>
</body>
</html>
